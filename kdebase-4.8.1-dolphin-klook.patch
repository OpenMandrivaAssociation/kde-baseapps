diff -Nuar kde-baseapps-4.8.1/dolphin/src/dolphinmainwindow.cpp kde-baseapps-4.8.1-new/dolphin/src/dolphinmainwindow.cpp
--- kde-baseapps-4.8.1/dolphin/src/dolphinmainwindow.cpp	2012-03-01 02:56:09.000000000 +0400
+++ kde-baseapps-4.8.1-new/dolphin/src/dolphinmainwindow.cpp	2012-03-22 16:12:43.000000000 +0400
@@ -96,6 +96,8 @@
 #include <QClipboard>
 #include <QToolButton>
 #include <QSplitter>
+#include <QProcess>
+#include <QApplication>
 
 namespace {
     // Used for GeneralSettings::version() to determine whether
@@ -143,7 +145,8 @@
     m_openToolBarMenuButton(0),
     m_updateToolBarTimer(0),
     m_lastHandleUrlStatJob(0),
-    m_searchDockIsTemporaryVisible(false)
+    m_searchDockIsTemporaryVisible(false),
+    m_isFocusOnTerminal(false)
 {
     DolphinPlacesModel::setModel(new KFilePlacesModel(this));
     connect(DolphinPlacesModel::instance(), SIGNAL(errorMessage(QString)),
@@ -265,6 +268,8 @@
     if (!showMenu) {
         createToolBarMenuButton();
     }
+
+    connect (qApp, SIGNAL(focusChanged(QWidget*,QWidget*)), this, SLOT(focusChanged(QWidget*,QWidget*)));
 }
 
 DolphinMainWindow::~DolphinMainWindow()
@@ -428,6 +433,15 @@
         compareFilesAction->setEnabled(false);
     }
 
+
+    //KLook
+    QAction* openInKLook = actionCollection()->action("open_in_KLook");
+    if ((selectedUrlsCount > 0) && (!m_isFocusOnTerminal)){
+        openInKLook->setEnabled(true);
+    } else {
+        openInKLook->setEnabled(false);
+    }
+
     emit selectionChanged(selection);
 }
 
@@ -1759,6 +1773,14 @@
     openInNewWindow->setText(i18nc("@action:inmenu", "Open in New Window"));
     openInNewWindow->setIcon(KIcon("window-new"));
     connect(openInNewWindow, SIGNAL(triggered()), this, SLOT(openInNewWindow()));
+
+    // KLook
+    KAction* openInKLook = actionCollection()->addAction("open_in_KLook");
+    openInKLook->setText(i18nc("@action:inmenu", "Preview"));
+    openInKLook->setShortcut(Qt::Key_Space);
+    openInKLook->setIcon(KIcon("klook"));
+    openInKLook->setEnabled(false);
+    connect(openInKLook, SIGNAL(triggered()), this, SLOT(previewItem()));
 }
 
 void DolphinMainWindow::setupDockWidgets()
@@ -2310,4 +2332,44 @@
     move(pos);
 }
 
+void DolphinMainWindow::previewItem()
+{
+    const KFileItemList list = m_activeViewContainer->view()->selectedItems();
+    QStringList urlList;
+    foreach(KFileItem item, list)
+    {
+        urlList.append(item.url().path());
+    }
+    if (!list.isEmpty())
+    {
+        QProcess* process = new QProcess();
+        connect(process,SIGNAL(finished(int)),process,SLOT(deleteLater()));
+        process->start(QString("klook"), urlList);
+    }
+}
+
+void DolphinMainWindow::focusChanged(QWidget *old, QWidget *now)
+{
+#ifndef Q_OS_WIN
+    if (now)
+    {
+        if (QString(now->metaObject()->className()).contains("Konsole::TerminalDisplay"))
+        {
+            QAction* openInKLook = actionCollection()->action("open_in_KLook");
+            m_isFocusOnTerminal = true;
+            openInKLook->setEnabled(false);
+        }
+    }
+    if (old)
+    {
+        if (QString(old->metaObject()->className()).contains("Konsole::TerminalDisplay"))
+        {
+            QAction* openInKLook = actionCollection()->action("open_in_KLook");
+            m_isFocusOnTerminal = false;
+            openInKLook->setEnabled(true);
+        }
+    }
+#endif
+}
+
 #include "dolphinmainwindow.moc"
diff -Nuar kde-baseapps-4.8.1/dolphin/src/dolphinmainwindow.h kde-baseapps-4.8.1-new/dolphin/src/dolphinmainwindow.h
--- kde-baseapps-4.8.1/dolphin/src/dolphinmainwindow.h	2012-01-10 18:14:25.000000000 +0400
+++ kde-baseapps-4.8.1-new/dolphin/src/dolphinmainwindow.h	2012-03-22 16:04:24.000000000 +0400
@@ -35,6 +35,7 @@
 
 typedef KIO::FileUndoManager::CommandType CommandType;
 
+class DolphinDockWidget;
 class DolphinViewActionHandler;
 class DolphinApplication;
 class DolphinSettingsDialog;
@@ -50,6 +51,7 @@
 class QSplitter;
 class QToolButton;
 class QVBoxLayout;
+class Panel;
 
 /**
  * @short Main window for Dolphin.
@@ -363,6 +365,12 @@
     void openInNewTab();
 
     /**
+     * Opens the selected files in KLook.
+     */
+
+    void previewItem();
+
+    /**
      * Opens the selected folder in a new window.
      */
     void openInNewWindow();
@@ -461,6 +469,7 @@
     void slotToolBarSpacerDeleted();
     void slotToolBarMenuButtonDeleted();
     void slotToolBarIconSizeChanged(const QSize& iconSize);
+    void focusChanged(QWidget* old, QWidget* now);
 
 private:
     /**
@@ -596,6 +605,7 @@
      * to true by enabling the search mode.
      */
     bool m_searchDockIsTemporaryVisible;
+    bool m_isFocusOnTerminal;
 };
 
 inline DolphinViewContainer* DolphinMainWindow::activeViewContainer() const
