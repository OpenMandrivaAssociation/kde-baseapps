diff -Nuar kde-baseapps-4.8.1/kdepasswd/kcm/chfnprocess.cpp kde-baseapps-4.8.1_new/kdepasswd/kcm/chfnprocess.cpp
--- kde-baseapps-4.8.1/kdepasswd/kcm/chfnprocess.cpp	2011-07-27 22:36:38.000000000 +0400
+++ kde-baseapps-4.8.1_new/kdepasswd/kcm/chfnprocess.cpp	2012-03-29 14:14:27.865314842 +0400
@@ -30,6 +30,7 @@
   QList<QByteArray> args;
   args += "-f";
   args += name;
+  
   int ret = KDESu::PtyProcess::exec("chfn", args);
   if (ret < 0)
       return ChfnNotFound;
@@ -54,7 +55,7 @@
   {
     line = readLine();
 
-    if ( line.isEmpty() )
+    if ( line.contains("Changing finger info")  || line.isEmpty())
       continue;// discard line
     else if ( line.contains( "Permission denied" ) )
     {
@@ -66,17 +67,12 @@
     if ( line.contains( "Password: " )/*isPrompt( line, "password" )*/ )
     {
       WaitSlave();
-      write(fd(), pass, strlen(pass));
-      write(fd(), "\n", 1);
+      writeLine( QByteArray(pass) );
     }
 
     line = readLine(); // Let's see what the outcome was
 
-    if ( line.contains( "Changing finger info" ) )
-    {
-      // do nothing
-    }
-    else if ( line.contains( "information changed" ) )
+    if ( line.contains( "information changed" ) )
     {
       status=0;
       break;
